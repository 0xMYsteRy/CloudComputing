{"ast":null,"code":"var _jsxFileName = \"/Users/mystery/Desktop/bookstore-v2/src/components/Map.js\";\nimport React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { MapContainer as BaseMap, TileLayer, ZoomControl } from 'react-leaflet';\nimport { useConfigureLeaflet, useMapServices, useRefEffect } from 'hooks';\nimport { isDomAvailable } from '../components/lib/util';\n\nconst Map = props => {\n  const {\n    children,\n    className,\n    defaultBaseMap = 'OpenStreetMap',\n    mapEffect,\n    ...rest\n  } = props;\n  const mapRef = useRef();\n  useConfigureLeaflet();\n  useRefEffect({\n    ref: mapRef,\n    effect: mapEffect\n  });\n  const services = useMapServices({\n    names: [defaultBaseMap]\n  });\n  const basemap = services.find(service => service.name === defaultBaseMap);\n  let mapClassName = `map`;\n\n  if (className) {\n    mapClassName = `${mapClassName} ${className}`;\n  }\n\n  if (!isDomAvailable()) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: mapClassName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"map-loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }, \"Loading map...\"));\n  }\n\n  const mapSettings = {\n    className: 'map-base',\n    zoomControl: false,\n    ...rest\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: mapClassName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BaseMap, Object.assign({\n    ref: mapRef\n  }, mapSettings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), children, basemap && /*#__PURE__*/React.createElement(TileLayer, Object.assign({}, basemap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(ZoomControl, {\n    position: \"bottomright\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  })));\n};\n\nMap.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  defaultBaseMap: PropTypes.string,\n  mapEffect: PropTypes.func\n};\nexport default Map;","map":{"version":3,"sources":["/Users/mystery/Desktop/bookstore-v2/src/components/Map.js"],"names":["React","useRef","PropTypes","MapContainer","BaseMap","TileLayer","ZoomControl","useConfigureLeaflet","useMapServices","useRefEffect","isDomAvailable","Map","props","children","className","defaultBaseMap","mapEffect","rest","mapRef","ref","effect","services","names","basemap","find","service","name","mapClassName","mapSettings","zoomControl","propTypes","node","string","func"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,YAAY,IAAIC,OAAzB,EAAkCC,SAAlC,EAA6CC,WAA7C,QAAgE,eAAhE;AAEA,SAASC,mBAAT,EAA8BC,cAA9B,EAA8CC,YAA9C,QAAkE,OAAlE;AACA,SAASC,cAAT,QAA+B,wBAA/B;;AAEA,MAAMC,GAAG,GAAKC,KAAF,IAAa;AACvB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuBC,IAAAA,cAAc,GAAG,eAAxC;AAAyDC,IAAAA,SAAzD;AAAoE,OAAGC;AAAvE,MAAgFL,KAAtF;AAEA,QAAMM,MAAM,GAAGjB,MAAM,EAArB;AAEAM,EAAAA,mBAAmB;AAEnBE,EAAAA,YAAY,CAAC;AACXU,IAAAA,GAAG,EAAED,MADM;AAEXE,IAAAA,MAAM,EAAEJ;AAFG,GAAD,CAAZ;AAKA,QAAMK,QAAQ,GAAGb,cAAc,CAAC;AAC9Bc,IAAAA,KAAK,EAAE,CAACP,cAAD;AADuB,GAAD,CAA/B;AAGA,QAAMQ,OAAO,GAAGF,QAAQ,CAACG,IAAT,CAAgBC,OAAF,IAAeA,OAAO,CAACC,IAAR,KAAiBX,cAA9C,CAAhB;AAEA,MAAIY,YAAY,GAAI,KAApB;;AAEA,MAAKb,SAAL,EAAiB;AACfa,IAAAA,YAAY,GAAI,GAAEA,YAAa,IAAGb,SAAU,EAA5C;AACD;;AAED,MAAK,CAACJ,cAAc,EAApB,EAAwB;AACtB,wBACE;AAAK,MAAA,SAAS,EAAEiB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF;AAKD;;AAED,QAAMC,WAAW,GAAG;AAClBd,IAAAA,SAAS,EAAE,UADO;AAElBe,IAAAA,WAAW,EAAE,KAFK;AAGlB,OAAGZ;AAHe,GAApB;AAMA,sBACE;AAAK,IAAA,SAAS,EAAEU,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,GAAG,EAAET;AAAd,KAA0BU,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACIf,QADJ,EAEIU,OAAO,iBAAI,oBAAC,SAAD,oBAAeA,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFf,eAGE,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CADF;AASD,CA9CD;;AAgDAZ,GAAG,CAACmB,SAAJ,GAAgB;AACdjB,EAAAA,QAAQ,EAAEX,SAAS,CAAC6B,IADN;AAEdjB,EAAAA,SAAS,EAAEZ,SAAS,CAAC8B,MAFP;AAGdjB,EAAAA,cAAc,EAAEb,SAAS,CAAC8B,MAHZ;AAIdhB,EAAAA,SAAS,EAAEd,SAAS,CAAC+B;AAJP,CAAhB;AAOA,eAAetB,GAAf","sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { MapContainer as BaseMap, TileLayer, ZoomControl } from 'react-leaflet';\n\nimport { useConfigureLeaflet, useMapServices, useRefEffect } from 'hooks';\nimport { isDomAvailable } from '../components/lib/util';\n\nconst Map = ( props ) => {\n  const { children, className, defaultBaseMap = 'OpenStreetMap', mapEffect, ...rest } = props;\n\n  const mapRef = useRef();\n\n  useConfigureLeaflet();\n\n  useRefEffect({\n    ref: mapRef,\n    effect: mapEffect,\n  });\n\n  const services = useMapServices({\n    names: [defaultBaseMap],\n  });\n  const basemap = services.find(( service ) => service.name === defaultBaseMap );\n\n  let mapClassName = `map`;\n\n  if ( className ) {\n    mapClassName = `${mapClassName} ${className}`;\n  }\n\n  if ( !isDomAvailable()) {\n    return (\n      <div className={mapClassName}>\n        <p className=\"map-loading\">Loading map...</p>\n      </div>\n    );\n  }\n\n  const mapSettings = {\n    className: 'map-base',\n    zoomControl: false,\n    ...rest,\n  };\n\n  return (\n    <div className={mapClassName}>\n      <BaseMap ref={mapRef} {...mapSettings}>\n        { children }\n        { basemap && <TileLayer {...basemap} /> }\n        <ZoomControl position=\"bottomright\" />\n      </BaseMap>\n    </div>\n  );\n};\n\nMap.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  defaultBaseMap: PropTypes.string,\n  mapEffect: PropTypes.func,\n};\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}